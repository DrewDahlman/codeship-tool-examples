01demodockerfile:
  build:
    image: 01demodockerfile
    dockerfile_path: 01.dockerfile/Dockerfile
01demodockerfiledockercompose:
  build: ./01.dockerfile/
01demohub:
  image: ruby:2.2.0
02demo:
  build:
    image: 02myapp
    dockerfile_path: Dockerfile
    path: 02.redis/
  links:
    - redis
03demo:
  build:
    image: 03myapp
    dockerfile_path: Dockerfile
    path: 03.redis-postgres/
  links:
    - redis
    - postgres
04demo:
  image: busybox
05demo1:
  image: busybox
  environment:
    OUTPUT: test1
05demo2:
  image: busybox
  environment:
    OUTPUT: test2
07write:
  build:
    image: 07demowrite
    dockerfile_path: Dockerfile
    path: 07.volumes/
  volumes_from:
    - 07data
07read:
  image: busybox
  volumes_from:
    - 07data
07data:
  image: busybox
  volumes:
    - ./tmp/07/:/artifacts
08compiledemo:
  build: ./08.deployment-container
  dockerfile: Dockerfile.build
  volumes:
    - ./08.deployment-container/tmp/:/data
08deploy:
  build: ./08.deployment-container
  dockerfile: Dockerfile
  volumes_from:
    - 08compiledemo
08builder:
  build: ./08.deployment-container
  dockerfile: Dockerfile.builder
  add_docker: true
  volumes_from:
    - 08compiledemo
08app1:
  image: 08testimage1
08app2:
  build: ./08.deployment-container
  dockerfile: Dockerfile.app2
15data:
  image: busybox
  volumes:
    - /data
15app:
  build: ./15.parallel-output-to-volume
  volumes_from:
    - 15data
redis:
  image: redis
postgres:
   image: postgres
busybox:
  image: busybox
adddocker:
  image: docker:1.12-dind
  add_docker: true

